<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ipazon â€” íŠ¹í—ˆ í¬íŠ¸í´ë¦¬ì˜¤ ëŒ€ì‹œë³´ë“œ</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.js"></script>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;600;700&display=swap');
  * { font-family: 'Pretendard', -apple-system, sans-serif; box-sizing: border-box; }
  body { background: #F1F5F9; }
  ::-webkit-scrollbar { width: 4px; height: 4px; }
  ::-webkit-scrollbar-track { background: #f1f5f9; }
  ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
  .card { background: #fff; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.08); }
  .kpi-card { transition: box-shadow .2s, transform .2s; cursor: pointer; }
  .kpi-card:hover { box-shadow: 0 4px 16px rgba(0,0,0,0.12); transform: translateY(-2px); }
  .chip { display: inline-flex; align-items: center; gap: 4px; padding: 3px 10px; border-radius: 999px; font-size: 11px; font-weight: 600; }
  .alert-chip { cursor: pointer; transition: opacity .15s; }
  .alert-chip:hover { opacity: .8; }
  .feed-item { transition: background .15s; cursor: pointer; }
  .feed-item:hover { background: #F8FAFC; }
  .case-row { transition: background .15s; cursor: pointer; }
  .case-row:hover { background: #F8FAFC; }
  .btn-period { padding: 4px 12px; border-radius: 6px; font-size: 12px; font-weight: 500; cursor: pointer; transition: all .15s; border: 1px solid #E2E8F0; color: #64748B; background: #fff; }
  .btn-period.active { background: #3B82F6; color: #fff; border-color: #3B82F6; }
  .nav-item { padding: 8px 14px; border-radius: 8px; cursor: pointer; font-size: 14px; font-weight: 500; color: #64748B; transition: all .15s; display: flex; align-items: center; gap: 8px; }
  .nav-item:hover { background: #F1F5F9; color: #1E293B; }
  .nav-item.active { background: #EFF6FF; color: #3B82F6; }
  .tooltip-wrap { position: relative; }
  .tooltip-wrap .tooltip-box { display:none; position:absolute; bottom:calc(100% + 6px); left:50%; transform:translateX(-50%); background:#1E293B; color:#fff; font-size:11px; padding:5px 10px; border-radius:6px; white-space:nowrap; z-index:100; }
  .tooltip-wrap:hover .tooltip-box { display:block; }
  .skeleton { background: linear-gradient(90deg, #E2E8F0 25%, #F1F5F9 50%, #E2E8F0 75%); background-size: 200% 100%; animation: shimmer 1.4s infinite; border-radius: 6px; }
  @keyframes shimmer { 0%{background-position:200% 0} 100%{background-position:-200% 0} }
  .progress-bar-bg { background: #EFF6FF; border-radius: 999px; height: 4px; margin-top: 8px; }
  .progress-bar-fill { height: 4px; border-radius: 999px; background: #3B82F6; transition: width .6s ease; }
  .dday-red { color: #DC2626; font-weight: 700; }
  .dday-orange { color: #EA580C; font-weight: 600; }
  .dday-gray { color: #94A3B8; }
  .new-dot::before { content:''; display:inline-block; width:7px; height:7px; border-radius:50%; background:#3B82F6; margin-right:6px; flex-shrink:0; }
</style>
</head>
<body>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• JSON DUMMY DATA â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<script>
const DATA = {
  user: { name: "ì´ë¯¼ì¤€", avatar: "ì´ë¯¼" },
  portfolio: "ì‚¼ì„±ì „ê¸° IPí¬íŠ¸í´ë¦¬ì˜¤",
  notifications: 5,
  kpi: {
    total: { value: 127, delta: 3 },
    registered: { value: 89, ratio: 70.1, sub: "ì§„í–‰ ì¤‘ 38ê±´" },
    inProgress: { value: 38, oaCount: 12 },
    filedThisMonth: { value: 7, delta: 2, period: "2025ë…„ 1ì›”" },
    registeredThisMonth: { value: 4, delta: -1, period: "2025ë…„ 1ì›”" }
  },
  alerts: [
    { id:"c001", dDay: 0, deadlineType:"ANNUITY", caseNumber:"EP20230012345", title:"ì ì¸µ ì„¸ë¼ë¯¹ ì»¤íŒ¨ì‹œí„° êµ¬ì¡°ì²´", assignee:"ë°•ì§€ìˆ˜" },
    { id:"c002", dDay: 3, deadlineType:"OA_RESPONSE", caseNumber:"KR10202200345", title:"ì „ë ¥ ë³€í™˜ íšŒë¡œ ì œì–´ ë°©ë²•", assignee:"ê¹€íƒœí˜¸" },
    { id:"c003", dDay: 5, deadlineType:"REGISTRATION_FEE", caseNumber:"US17234567", title:"MLCC ê¸°íŒ ì ‘í•© ê³µì •", assignee:"ì´ìˆ˜ì—°" },
    { id:"c004", dDay: 6, deadlineType:"PRIORITY", caseNumber:"PCT/KR2023/001", title:"ê³ ì£¼íŒŒ í•„í„° ì†Œì", assignee:"ë°•ì§€ìˆ˜" }
  ],
  techFields: [
    { name:"ì ì¸µì„¸ë¼ë¯¹", count:42, ratio:33.1, color:"#3B82F6" },
    { name:"ì „ë ¥ë°˜ë„ì²´", count:28, ratio:22.0, color:"#6366F1" },
    { name:"RF ë¶€í’ˆ", count:21, ratio:16.5, color:"#8B5CF6" },
    { name:"PCB/ê¸°íŒ", count:18, ratio:14.2, color:"#EC4899" },
    { name:"ì„¼ì„œ", count:11, ratio:8.7, color:"#F59E0B" },
    { name:"ê¸°íƒ€", count:7, ratio:5.5, color:"#94A3B8" }
  ],
  countries: [
    { code:"KR", name:"í•œêµ­", flag:"ğŸ‡°ğŸ‡·", count:58 },
    { code:"US", name:"ë¯¸êµ­", flag:"ğŸ‡ºğŸ‡¸", count:29 },
    { code:"CN", name:"ì¤‘êµ­", flag:"ğŸ‡¨ğŸ‡³", count:17 },
    { code:"JP", name:"ì¼ë³¸", flag:"ğŸ‡¯ğŸ‡µ", count:12 },
    { code:"EP", name:"ìœ ëŸ½", flag:"ğŸ‡ªğŸ‡º", count:8 },
    { code:"DE", name:"ë…ì¼", flag:"ğŸ‡©ğŸ‡ª", count:3 }
  ],
  trend: {
    "6ê°œì›”":  { months:["8ì›”","9ì›”","10ì›”","11ì›”","12ì›”","1ì›”"], filed:[5,7,4,8,6,7], registered:[3,4,5,3,6,4] },
    "12ê°œì›”": { months:["2ì›”","3ì›”","4ì›”","5ì›”","6ì›”","7ì›”","8ì›”","9ì›”","10ì›”","11ì›”","12ì›”","1ì›”"], filed:[4,6,5,7,8,5,5,7,4,8,6,7], registered:[2,3,4,4,5,4,3,4,5,3,6,4] },
    "24ê°œì›”": { months:["2ì›”","4ì›”","6ì›”","8ì›”","10ì›”","12ì›”","2ì›”","4ì›”","6ì›”","8ì›”","10ì›”","12ì›”","1ì›”"], filed:[3,4,6,5,7,5,4,6,5,7,4,8,7], registered:[2,2,3,4,4,3,2,3,4,4,5,3,4] }
  },
  activities: [
    { id:"a1", date:"2025-01-14", type:"REGISTERED", title:"ì ì¸µ ì„¸ë¼ë¯¹ ì»¤íŒ¨ì‹œí„° êµ¬ì¡°ì²´", caseId:"c101", assignee:"ë°•ì§€ìˆ˜", today:true },
    { id:"a2", date:"2025-01-14", type:"OA_RECEIVED", title:"ì „ë ¥ ë³€í™˜ íšŒë¡œ ì œì–´ ë°©ë²•", caseId:"c002", assignee:"ê¹€íƒœí˜¸", today:true },
    { id:"a3", date:"2025-01-13", type:"FILED", title:"ê³ ì£¼íŒŒ ëŒ€ì—­ ë…¸ì´ì¦ˆ í•„í„° ì†Œì êµ¬ì¡°", caseId:"c201", assignee:"ì´ìˆ˜ì—°", today:false },
    { id:"a4", date:"2025-01-12", type:"ANNUITY_PAID", title:"MLCC ê¸°íŒ ì ‘í•© ê³µì • ë°©ë²•", caseId:"c003", assignee:"ë°•ì§€ìˆ˜", today:false },
    { id:"a5", date:"2025-01-11", type:"REJECTED", title:"ê³ ìš©ëŸ‰ ì „ì§€ ì „ê·¹ êµ¬ì¡°", caseId:"c301", assignee:"ê¹€íƒœí˜¸", today:false },
    { id:"a6", date:"2025-01-10", type:"FILED", title:"ë°˜ë„ì²´ íŒ¨í‚¤ì§€ ë°©ì—´ êµ¬ì¡°ì²´", caseId:"c401", assignee:"ì´ìˆ˜ì—°", today:false },
    { id:"a7", date:"2025-01-09", type:"ABANDONED", title:"ì„¼ì„œ ì‹ í˜¸ ì²˜ë¦¬ ì•Œê³ ë¦¬ì¦˜", caseId:"c501", assignee:"ë°•ì§€ìˆ˜", today:false }
  ],
  cases: [
    { id:"c002", title:"ì „ë ¥ ë³€í™˜ íšŒë¡œ ì œì–´ ë°©ë²•", country:"KR", flag:"ğŸ‡°ğŸ‡·", status:"OA_RECEIVED", nextDeadline:"2025-01-17", dDay:3, assignee:"ê¹€íƒœí˜¸" },
    { id:"c003", title:"MLCC ê¸°íŒ ì ‘í•© ê³µì •", country:"US", flag:"ğŸ‡ºğŸ‡¸", status:"OA_RECEIVED", nextDeadline:"2025-01-19", dDay:5, assignee:"ì´ìˆ˜ì—°" },
    { id:"c004", title:"ê³ ì£¼íŒŒ í•„í„° ì†Œì", country:"KR", flag:"ğŸ‡°ğŸ‡·", status:"EXAMINATION", nextDeadline:"2025-01-20", dDay:6, assignee:"ë°•ì§€ìˆ˜" },
    { id:"c005", title:"ë°˜ë„ì²´ íŒ¨í‚¤ì§€ ë°©ì—´ êµ¬ì¡°ì²´", country:"JP", flag:"ğŸ‡¯ğŸ‡µ", status:"PENDING", nextDeadline:"2025-02-03", dDay:20, assignee:"ì´ìˆ˜ì—°" },
    { id:"c006", title:"ê³ ìš©ëŸ‰ ì „ì§€ ì „ê·¹ êµ¬ì¡°", country:"CN", flag:"ğŸ‡¨ğŸ‡³", status:"APPEAL", nextDeadline:"2025-02-14", dDay:31, assignee:"ê¹€íƒœí˜¸" },
    { id:"c007", title:"PCB ë‹¤ì¸µ ë°°ì„  êµ¬ì¡°", country:"EP", flag:"ğŸ‡ªğŸ‡º", status:"EXAMINATION", nextDeadline:"2025-03-01", dDay:46, assignee:"ë°•ì§€ìˆ˜" }
  ]
};

const CHIP_CONFIG = {
  FILED:        { label:"ì¶œì›",      bg:"#EFF6FF", color:"#1D4ED8" },
  REGISTERED:   { label:"ë“±ë¡",      bg:"#F0FDF4", color:"#15803D" },
  OA_RECEIVED:  { label:"OA ìˆ˜ì‹ ",   bg:"#FFF7ED", color:"#C2410C" },
  REJECTED:     { label:"ê±°ì ˆ",      bg:"#FEF2F2", color:"#B91C1C" },
  ABANDONED:    { label:"í¬ê¸°",      bg:"#F8FAFC", color:"#94A3B8" },
  ANNUITY_PAID: { label:"ì—°ì°¨ë£Œ ë‚©ë¶€",bg:"#F5F3FF", color:"#7C3AED" }
};
const STATUS_CONFIG = {
  OA_RECEIVED:  { label:"OA ìˆ˜ì‹ ",   bg:"#FFF7ED", color:"#C2410C" },
  EXAMINATION:  { label:"ì‹¬ì‚¬ ì¤‘",   bg:"#EFF6FF", color:"#1D4ED8" },
  PENDING:      { label:"ì¶œì› ì™„ë£Œ", bg:"#F8FAFC", color:"#64748B" },
  APPEAL:       { label:"ì‹¬íŒ ì§„í–‰", bg:"#F5F3FF", color:"#7C3AED" }
};
const DEADLINE_CONFIG = {
  ANNUITY:          { label:"ì—°ì°¨ë£Œ",     icon:"ğŸ’°" },
  OA_RESPONSE:      { label:"OA ì‘ë‹µ",    icon:"ğŸ“‹" },
  PRIORITY:         { label:"ìš°ì„ ê¶Œ ì£¼ì¥", icon:"â±" },
  REGISTRATION_FEE: { label:"ë“±ë¡ë£Œ",     icon:"âœ…" }
};
</script>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• HTML LAYOUT â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

<!-- Sidebar -->
<div style="display:flex; min-height:100vh;">
<aside style="width:220px; background:#fff; border-right:1px solid #E2E8F0; display:flex; flex-direction:column; padding:20px 12px; flex-shrink:0; position:sticky; top:0; height:100vh; overflow-y:auto;">
  <div style="display:flex; align-items:center; gap:8px; padding:8px 6px 20px;">
    <div style="width:32px; height:32px; background:#3B82F6; border-radius:8px; display:flex; align-items:center; justify-content:center;">
      <span style="color:#fff; font-size:14px; font-weight:700;">ip</span>
    </div>
    <span style="font-size:18px; font-weight:700; color:#1E293B; letter-spacing:-0.5px;">ipazon</span>
  </div>
  <nav style="flex:1; display:flex; flex-direction:column; gap:2px;">
    <div class="nav-item active">
      <span>ğŸ“Š</span> ëŒ€ì‹œë³´ë“œ
    </div>
    <div class="nav-item">
      <span>ğŸ“</span> í¬íŠ¸í´ë¦¬ì˜¤
    </div>
    <div class="nav-item">
      <span>â°</span> ê¸°í•œ ê´€ë¦¬
    </div>
    <div class="nav-item">
      <span>ğŸ“ˆ</span> ë¶„ì„Â·í†µê³„
    </div>
    <div class="nav-item">
      <span>ğŸ¢</span> ë²•ì¸ ê´€ë¦¬
    </div>
    <div class="nav-item">
      <span>âš™ï¸</span> ì„¤ì •
    </div>
  </nav>
  <div style="border-top:1px solid #E2E8F0; padding-top:16px; margin-top:auto;">
    <div style="display:flex; align-items:center; gap:10px; padding:8px 6px; cursor:pointer;">
      <div style="width:32px; height:32px; background:#3B82F6; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:12px; font-weight:700; color:#fff;" id="userAvatar"></div>
      <div>
        <div style="font-size:13px; font-weight:600; color:#1E293B;" id="userName"></div>
        <div style="font-size:11px; color:#94A3B8;">IPíŒ€ì¥</div>
      </div>
    </div>
  </div>
</aside>

<!-- Main -->
<div style="flex:1; display:flex; flex-direction:column; min-width:0;">

<!-- Header -->
<header style="background:#fff; border-bottom:1px solid #E2E8F0; padding:0 28px; height:64px; display:flex; align-items:center; justify-content:space-between; position:sticky; top:0; z-index:50;">
  <div style="display:flex; align-items:center; gap:12px;">
    <div style="font-size:15px; font-weight:600; color:#1E293B;">ëŒ€ì‹œë³´ë“œ</div>
    <div style="display:flex; align-items:center; gap:6px; background:#F8FAFC; border:1px solid #E2E8F0; border-radius:8px; padding:6px 10px; font-size:13px; color:#64748B; width:280px; cursor:text;">
      <span style="color:#94A3B8; font-size:14px;">ğŸ”</span>
      <span style="color:#CBD5E1;">íŠ¹í—ˆëª…, ì¶œì›ë²ˆí˜¸ë¡œ ê²€ìƒ‰</span>
    </div>
  </div>
  <div style="display:flex; align-items:center; gap:8px;">
    <select id="portfolioSelect" style="border:1px solid #E2E8F0; border-radius:8px; padding:6px 10px; font-size:13px; color:#1E293B; background:#fff; cursor:pointer; outline:none;">
      <option>ì‚¼ì„±ì „ê¸° IPí¬íŠ¸í´ë¦¬ì˜¤</option>
      <option>í•´ì™¸ ì¶œì› í¬íŠ¸í´ë¦¬ì˜¤</option>
    </select>
    <div style="position:relative; cursor:pointer;" class="tooltip-wrap">
      <div style="width:36px; height:36px; border-radius:8px; border:1px solid #E2E8F0; display:flex; align-items:center; justify-content:center; font-size:18px;">ğŸ””</div>
      <div id="notiBadge" style="position:absolute; top:-4px; right:-4px; background:#EF4444; color:#fff; font-size:10px; font-weight:700; width:18px; height:18px; border-radius:50%; display:flex; align-items:center; justify-content:center;"></div>
      <div class="tooltip-box">ì•Œë¦¼ 5ê±´</div>
    </div>
    <div style="width:36px; height:36px; background:#3B82F6; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:13px; font-weight:700; color:#fff; cursor:pointer;" id="headerAvatar"></div>
  </div>
</header>

<!-- Page Body -->
<main style="padding:24px 28px; display:flex; flex-direction:column; gap:20px; flex:1;">

<!-- Z1: Alert Bar -->
<div id="alertBar" style="background:#FEF2F2; border:1px solid #FECACA; border-radius:12px; padding:12px 18px; display:flex; align-items:center; gap:12px; flex-wrap:wrap;">
  <div style="display:flex; align-items:center; gap:8px; flex-shrink:0;">
    <span style="font-size:16px;">ğŸš¨</span>
    <span style="font-size:13px; font-weight:700; color:#991B1B;" id="alertCount"></span>
  </div>
  <div id="alertChips" style="display:flex; gap:8px; flex-wrap:wrap; flex:1;"></div>
  <div style="display:flex; align-items:center; gap:10px; flex-shrink:0;">
    <span style="font-size:13px; font-weight:600; color:#EF4444; cursor:pointer; white-space:nowrap;">ì „ì²´ë³´ê¸° â†’</span>
    <span id="alertClose" style="color:#EF4444; cursor:pointer; font-size:18px; line-height:1;">Ã—</span>
  </div>
</div>

<!-- Z2: KPI Cards -->
<div style="display:grid; grid-template-columns:repeat(6,1fr); gap:16px;">
  <!-- KPI 1 -->
  <div class="card kpi-card" style="padding:18px;" onclick="location.href='#'">
    <div style="font-size:12px; font-weight:500; color:#94A3B8; margin-bottom:6px;">ì „ì²´ ìì‚°</div>
    <div style="font-size:30px; font-weight:700; color:#1E293B; line-height:1.1;" id="kpi-total"></div>
    <div style="font-size:11px; margin-top:6px;" id="kpi-total-delta"></div>
  </div>
  <!-- KPI 2 -->
  <div class="card kpi-card" style="padding:18px;" onclick="location.href='#'">
    <div style="font-size:12px; font-weight:500; color:#94A3B8; margin-bottom:6px;">ë“±ë¡ ì™„ë£Œ</div>
    <div style="display:flex; align-items:baseline; gap:6px;">
      <div style="font-size:30px; font-weight:700; color:#1E293B; line-height:1.1;" id="kpi-reg"></div>
      <div style="font-size:13px; color:#15803D; font-weight:600;" id="kpi-reg-ratio"></div>
    </div>
    <div class="progress-bar-bg"><div class="progress-bar-fill" id="kpi-reg-bar"></div></div>
    <div style="font-size:11px; color:#94A3B8; margin-top:5px;" id="kpi-reg-sub"></div>
  </div>
  <!-- KPI 3 -->
  <div class="card kpi-card" style="padding:18px;" onclick="location.href='#'">
    <div style="font-size:12px; font-weight:500; color:#94A3B8; margin-bottom:6px;">ì‹¬ì‚¬ ì§„í–‰ ì¤‘</div>
    <div style="font-size:30px; font-weight:700; color:#1E293B; line-height:1.1;" id="kpi-prog"></div>
    <div style="font-size:11px; margin-top:6px;" id="kpi-prog-oa"></div>
  </div>
  <!-- KPI 4 -->
  <div class="card kpi-card" style="padding:18px;" onclick="location.href='#'">
    <div style="font-size:12px; font-weight:500; color:#94A3B8; margin-bottom:6px;">ì´ë²ˆ ë‹¬ ì¶œì›</div>
    <div style="font-size:30px; font-weight:700; color:#1E293B; line-height:1.1;" id="kpi-filed"></div>
    <div style="font-size:11px; margin-top:6px;" id="kpi-filed-delta"></div>
  </div>
  <!-- KPI 5 -->
  <div class="card kpi-card" style="padding:18px;" onclick="location.href='#'">
    <div style="font-size:12px; font-weight:500; color:#94A3B8; margin-bottom:6px;">ì´ë²ˆ ë‹¬ ë“±ë¡</div>
    <div style="font-size:30px; font-weight:700; color:#1E293B; line-height:1.1;" id="kpi-regi"></div>
    <div style="font-size:11px; margin-top:6px;" id="kpi-regi-delta"></div>
  </div>
  <!-- Quick Action -->
  <div class="card" style="padding:18px; background:linear-gradient(135deg,#EFF6FF,#F0FDF4); display:flex; flex-direction:column; align-items:center; justify-content:center; gap:10px; cursor:pointer;">
    <div style="font-size:24px;">â•</div>
    <div style="font-size:13px; font-weight:600; color:#1D4ED8; text-align:center;">ì‹ ê·œ ì¶œì› ë“±ë¡</div>
    <div style="font-size:11px; color:#64748B; text-align:center;">ê¸°í•œ ì¼ê´„ ì…ë ¥</div>
  </div>
</div>

<!-- Z3: Charts Row -->
<div style="display:grid; grid-template-columns:1fr 1fr; gap:16px;">
  <!-- Z3A: Donut -->
  <div class="card" style="padding:20px;">
    <div style="font-size:14px; font-weight:600; color:#1E293B; margin-bottom:16px;">ê¸°ìˆ ë¶„ì•¼ë³„ ë¶„í¬</div>
    <div style="display:flex; align-items:center; gap:20px;">
      <div style="position:relative; width:160px; height:160px; flex-shrink:0;">
        <canvas id="donutChart" width="160" height="160"></canvas>
        <div style="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); text-align:center; pointer-events:none;">
          <div style="font-size:22px; font-weight:700; color:#1E293B;">127</div>
          <div style="font-size:10px; color:#94A3B8;">ì „ì²´</div>
        </div>
      </div>
      <div id="donutLegend" style="flex:1; display:flex; flex-direction:column; gap:7px;"></div>
    </div>
  </div>
  <!-- Z3B: Bar -->
  <div class="card" style="padding:20px;">
    <div style="font-size:14px; font-weight:600; color:#1E293B; margin-bottom:16px;">êµ­ê°€ë³„ ì¶œì› í˜„í™©</div>
    <div id="countryBars" style="display:flex; flex-direction:column; gap:10px;"></div>
  </div>
</div>

<!-- Z3C: Trend -->
<div class="card" style="padding:20px;">
  <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom:12px;">
    <div style="font-size:14px; font-weight:600; color:#1E293B;">ì¶œì›Â·ë“±ë¡ íŠ¸ë Œë“œ</div>
    <div style="display:flex; gap:6px;" id="periodBtns">
      <button class="btn-period" data-period="6ê°œì›”" onclick="changePeriod(this,'6ê°œì›”')">6ê°œì›”</button>
      <button class="btn-period active" data-period="12ê°œì›”" onclick="changePeriod(this,'12ê°œì›”')">12ê°œì›”</button>
      <button class="btn-period" data-period="24ê°œì›”" onclick="changePeriod(this,'24ê°œì›”')">24ê°œì›”</button>
    </div>
  </div>
  <div style="display:flex; gap:16px; margin-bottom:10px;">
    <div style="display:flex; align-items:center; gap:6px; font-size:12px; color:#64748B;">
      <div style="width:24px; height:3px; background:#3B82F6; border-radius:2px;"></div> ì¶œì›
    </div>
    <div style="display:flex; align-items:center; gap:6px; font-size:12px; color:#64748B;">
      <div style="width:24px; height:3px; background:#10B981; border-radius:2px;"></div> ë“±ë¡
    </div>
  </div>
  <canvas id="trendChart" height="80"></canvas>
</div>

<!-- Z4: Feed + Table -->
<div style="display:grid; grid-template-columns:1fr 2fr; gap:16px;">
  <!-- Z4A Feed -->
  <div class="card" style="padding:20px; display:flex; flex-direction:column;">
    <div style="font-size:14px; font-weight:600; color:#1E293B; margin-bottom:14px;">ìµœê·¼ í™œë™</div>
    <div id="feedList" style="flex:1; overflow-y:auto; max-height:280px; display:flex; flex-direction:column; gap:2px;"></div>
    <div style="margin-top:12px; padding-top:12px; border-top:1px solid #F1F5F9;">
      <span style="font-size:12px; font-weight:600; color:#3B82F6; cursor:pointer;">í™œë™ ì „ì²´ ë³´ê¸° â†’</span>
    </div>
  </div>
  <!-- Z4B Table -->
  <div class="card" style="padding:20px; display:flex; flex-direction:column;">
    <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom:14px;">
      <div style="font-size:14px; font-weight:600; color:#1E293B;">ì§„í–‰ ì¤‘ ì¼€ì´ìŠ¤ <span style="font-size:12px; font-weight:400; color:#94A3B8;">ê¸°í•œ ì„ë°• ìˆœ</span></div>
      <span style="font-size:12px; font-weight:600; color:#3B82F6; cursor:pointer;">ì „ì²´ ë³´ê¸° â†’</span>
    </div>
    <div style="overflow-x:auto;">
      <table style="width:100%; border-collapse:collapse; font-size:13px;">
        <thead>
          <tr style="border-bottom:1px solid #F1F5F9;">
            <th style="text-align:left; padding:0 0 10px; color:#94A3B8; font-weight:500; font-size:12px;">íŠ¹í—ˆëª…</th>
            <th style="text-align:center; padding:0 8px 10px; color:#94A3B8; font-weight:500; font-size:12px;">êµ­ê°€</th>
            <th style="text-align:left; padding:0 8px 10px; color:#94A3B8; font-weight:500; font-size:12px;">í˜„ì¬ ìƒíƒœ</th>
            <th style="text-align:center; padding:0 8px 10px; color:#94A3B8; font-weight:500; font-size:12px;">ë‹¤ìŒ ê¸°í•œ</th>
            <th style="text-align:center; padding:0 0 10px; color:#94A3B8; font-weight:500; font-size:12px;">D-day</th>
            <th style="text-align:center; padding:0 0 10px; color:#94A3B8; font-weight:500; font-size:12px;">ë‹´ë‹¹ì</th>
          </tr>
        </thead>
        <tbody id="caseTableBody"></tbody>
      </table>
    </div>
  </div>
</div>

</main>
</div><!-- end main -->
</div><!-- end flex wrapper -->

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• RENDER SCRIPT â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<script>
// â”€â”€ Helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function chip(label, bg, color) {
  return `<span class="chip" style="background:${bg};color:${color}">${label}</span>`;
}
function avatar(name, size=28) {
  const initials = name.slice(0,2);
  const colors = ['#3B82F6','#6366F1','#8B5CF6','#EC4899','#10B981'];
  const bg = colors[name.charCodeAt(0) % colors.length];
  return `<div class="tooltip-wrap" style="display:inline-flex;align-items:center;justify-content:center;width:${size}px;height:${size}px;border-radius:50%;background:${bg};color:#fff;font-size:${size*0.38}px;font-weight:700;flex-shrink:0;">${initials}<span class="tooltip-box">${name}</span></div>`;
}
function deltaHTML(delta) {
  if (delta > 0) return `<span style="color:#15803D;">â–² ${delta}ê±´</span> <span style="color:#94A3B8;">ì „ì›” ëŒ€ë¹„</span>`;
  if (delta < 0) return `<span style="color:#DC2626;">â–¼ ${Math.abs(delta)}ê±´</span> <span style="color:#94A3B8;">ì „ì›” ëŒ€ë¹„</span>`;
  return `<span style="color:#94A3B8;">ì „ì›”ê³¼ ë™ì¼</span>`;
}
function ddayClass(d) {
  if (d <= 7) return 'dday-red';
  if (d <= 30) return 'dday-orange';
  return 'dday-gray';
}

// â”€â”€ Header / User â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
document.getElementById('userAvatar').textContent = DATA.user.avatar;
document.getElementById('headerAvatar').textContent = DATA.user.avatar;
document.getElementById('userName').textContent = DATA.user.name + ' íŒ€ì¥';
document.getElementById('notiBadge').textContent = DATA.notifications;

// â”€â”€ Alert Bar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
(function renderAlert() {
  const alerts = DATA.alerts;
  document.getElementById('alertCount').textContent = `ê¸°í•œ ì„ë°• ${alerts.length}ê±´`;
  const chipsEl = document.getElementById('alertChips');
  const shown = alerts.slice(0, 3);
  const rest = alerts.length - 3;
  shown.forEach(a => {
    const dc = DEADLINE_CONFIG[a.deadlineType];
    const dLabel = a.dDay === 0 ? 'ì˜¤ëŠ˜' : `D-${a.dDay}`;
    const bgC = a.dDay <= 3 ? '#FEE2E2' : '#FEF3C7';
    const fc = a.dDay <= 3 ? '#B91C1C' : '#92400E';
    chipsEl.innerHTML += `
      <span class="alert-chip chip" style="background:${bgC};color:${fc};gap:5px;" title="${a.title} Â· ${a.assignee}">
        ${dc.icon} <strong>${dLabel}</strong> Â· ${dc.label} Â· ${a.caseNumber.substring(0,12)}Â·Â·Â·
      </span>`;
  });
  if (rest > 0) chipsEl.innerHTML += `<span class="chip" style="background:#FEE2E2;color:#B91C1C;cursor:pointer;">+${rest}ê±´ ë”ë³´ê¸°</span>`;
  document.getElementById('alertClose').onclick = () => {
    document.getElementById('alertBar').style.display = 'none';
  };
})();

// â”€â”€ KPI Cards â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const K = DATA.kpi;
document.getElementById('kpi-total').textContent = K.total.value + 'ê±´';
document.getElementById('kpi-total-delta').innerHTML = deltaHTML(K.total.delta);

document.getElementById('kpi-reg').textContent = K.registered.value + 'ê±´';
document.getElementById('kpi-reg-ratio').textContent = K.registered.ratio + '%';
document.getElementById('kpi-reg-bar').style.width = K.registered.ratio + '%';
document.getElementById('kpi-reg-sub').textContent = K.registered.sub;

document.getElementById('kpi-prog').textContent = K.inProgress.value + 'ê±´';
document.getElementById('kpi-prog-oa').innerHTML = `<span style="color:#C2410C; font-weight:600;">OA ìˆ˜ì‹  ${K.inProgress.oaCount}ê±´</span> í¬í•¨`;

document.getElementById('kpi-filed').textContent = K.filedThisMonth.value + 'ê±´';
document.getElementById('kpi-filed-delta').innerHTML = deltaHTML(K.filedThisMonth.delta);

document.getElementById('kpi-regi').textContent = K.registeredThisMonth.value + 'ê±´';
document.getElementById('kpi-regi-delta').innerHTML = deltaHTML(K.registeredThisMonth.delta);

// â”€â”€ Donut Chart â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
new Chart(document.getElementById('donutChart'), {
  type: 'doughnut',
  data: {
    labels: DATA.techFields.map(f => f.name),
    datasets: [{ data: DATA.techFields.map(f => f.count), backgroundColor: DATA.techFields.map(f => f.color), borderWidth: 2, borderColor: '#fff', hoverOffset: 6 }]
  },
  options: {
    cutout: '65%', responsive: false, animation: { duration: 800 },
    plugins: {
      legend: { display: false },
      tooltip: { callbacks: { label: ctx => ` ${ctx.label}: ${ctx.raw}ê±´ (${DATA.techFields[ctx.dataIndex].ratio}%)` } }
    }
  }
});
const leg = document.getElementById('donutLegend');
DATA.techFields.forEach(f => {
  leg.innerHTML += `
    <div style="display:flex;align-items:center;justify-content:space-between;cursor:pointer;" title="${f.name} í•„í„°ë¡œ ì´ë™">
      <div style="display:flex;align-items:center;gap:6px;">
        <div style="width:8px;height:8px;border-radius:2px;background:${f.color};flex-shrink:0;"></div>
        <span style="font-size:12px;color:#475569;">${f.name}</span>
      </div>
      <span style="font-size:12px;font-weight:600;color:#1E293B;">${f.count}ê±´</span>
    </div>`;
});

// â”€â”€ Country Bar Chart â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const maxCount = Math.max(...DATA.countries.map(c => c.count));
const barsEl = document.getElementById('countryBars');
DATA.countries.forEach(c => {
  const pct = Math.round(c.count / maxCount * 100);
  const totalPct = Math.round(c.count / 127 * 100);
  barsEl.innerHTML += `
    <div style="cursor:pointer;" title="${c.name} í•„í„°ë¡œ ì´ë™">
      <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:4px;">
        <div style="display:flex;align-items:center;gap:6px;">
          <span style="font-size:14px;">${c.flag}</span>
          <span style="font-size:12px;color:#475569;font-weight:500;">${c.code}</span>
        </div>
        <span style="font-size:12px;font-weight:600;color:#1E293B;">${c.count}ê±´ <span style="color:#94A3B8;font-weight:400;">(${totalPct}%)</span></span>
      </div>
      <div style="background:#F1F5F9;border-radius:999px;height:8px;overflow:hidden;">
        <div style="height:8px;border-radius:999px;background:${c.code==='KR'?'#3B82F6':'#93C5FD'};width:${pct}%;transition:width .6s ease;"></div>
      </div>
    </div>`;
});

// â”€â”€ Trend Line Chart â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let trendChart;
function renderTrend(period) {
  const d = DATA.trend[period];
  if (trendChart) trendChart.destroy();
  trendChart = new Chart(document.getElementById('trendChart'), {
    type: 'line',
    data: {
      labels: d.months,
      datasets: [
        { label:'ì¶œì›', data:d.filed, borderColor:'#3B82F6', backgroundColor:'rgba(59,130,246,0.08)', tension:.4, pointRadius:4, pointBackgroundColor:'#3B82F6', fill:true },
        { label:'ë“±ë¡', data:d.registered, borderColor:'#10B981', backgroundColor:'rgba(16,185,129,0.08)', tension:.4, pointRadius:4, pointBackgroundColor:'#10B981', fill:true }
      ]
    },
    options: {
      responsive:true, animation:{ duration:600 },
      scales: {
        x: { grid:{ display:false }, ticks:{ font:{ size:11 }, color:'#94A3B8' } },
        y: { grid:{ color:'#F1F5F9' }, ticks:{ font:{ size:11 }, color:'#94A3B8', stepSize:2 }, beginAtZero:true }
      },
      plugins: {
        legend:{ display:false },
        tooltip:{ mode:'index', intersect:false, callbacks:{ label: ctx => ` ${ctx.dataset.label}: ${ctx.raw}ê±´` } }
      }
    }
  });
}
renderTrend('12ê°œì›”');
function changePeriod(btn, period) {
  document.querySelectorAll('.btn-period').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  renderTrend(period);
}

// â”€â”€ Activity Feed â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const feedEl = document.getElementById('feedList');
DATA.activities.forEach(a => {
  const cc = CHIP_CONFIG[a.type];
  const dateStr = a.date.slice(5).replace('-','/');
  feedEl.innerHTML += `
    <div class="feed-item" style="display:flex;align-items:flex-start;gap:8px;padding:8px 6px;border-radius:8px;">
      ${a.today ? `<span class="new-dot" style="display:flex;align-items:center;margin-top:3px;"></span>` : '<span style="width:13px;flex-shrink:0;"></span>'}
      <div style="flex:1;min-width:0;">
        <div style="display:flex;align-items:center;gap:6px;flex-wrap:wrap;">
          ${chip(cc.label, cc.bg, cc.color)}
          <span style="font-size:12px;color:#1E293B;font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:140px;">${a.title}</span>
        </div>
        <div style="font-size:11px;color:#94A3B8;margin-top:3px;display:flex;align-items:center;gap:6px;">
          ${dateStr} Â· ${avatar(a.assignee, 18)} ${a.assignee}
        </div>
      </div>
    </div>`;
});

// â”€â”€ Case Table â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const tbody = document.getElementById('caseTableBody');
DATA.cases.forEach(c => {
  const sc = STATUS_CONFIG[c.status];
  const dClass = ddayClass(c.dDay);
  const dLabel = c.dDay === 0 ? 'ì˜¤ëŠ˜' : `D-${c.dDay}`;
  tbody.innerHTML += `
    <tr class="case-row" style="border-bottom:1px solid #F8FAFC;">
      <td style="padding:10px 0;color:#1E293B;font-weight:500;max-width:180px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">${c.title}</td>
      <td style="padding:10px 8px;text-align:center;font-size:16px;">${c.flag}</td>
      <td style="padding:10px 8px;">${chip(sc.label, sc.bg, sc.color)}</td>
      <td style="padding:10px 8px;text-align:center;font-size:12px;color:#64748B;">${c.nextDeadline.slice(5).replace('-','/')}</td>
      <td style="padding:10px 0;text-align:center;font-size:13px;" class="${dClass}">${dLabel}</td>
      <td style="padding:10px 0;text-align:center;">${avatar(c.assignee, 26)}</td>
    </tr>`;
});
</script>
</body>
</html>
